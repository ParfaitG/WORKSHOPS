<html>

<head>
    <title>CTA SQL Flask App</title>
    <link rel="stylesheet" type="text/css" href="/static/style.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css"/>
    <script src="https://code.jquery.com/jquery-3.3.1.js" type="text/javascript"></script>
    <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js" type="text/javascript"></script>
    <script type="text/javascript" class="init"> 
$(document).ready(function() {
    $('#cta_table').DataTable();
} );
    </script>
</head>

<body>
    <div class="smart-green">
        <div class="pagetitle">
            <img src="/static/Python_CTA.png"/><br/><h1>CTA SQL Flask App</h1>
            <div class="note">Powered by CTA Data</div>
        </div>
        <div id="main">
            <br/>
            <form action="{{ url_for('data') }}" method="post">
                <label><span>Year</span>
                    <select name="year">
                        <option value="" disabled="disabled" selected="selected">{{ request.form['year'] }}</option>
                        <option value="2001">2001</option>
                        <option value="2002">2002</option>
                        <option value="2003">2003</option>
                        <option value="2004">2004</option>
                        <option value="2005">2005</option>
                        <option value="2006">2006</option>
                        <option value="2007">2007</option>    
                        <option value="2008">2008</option>
                        <option value="2009">2009</option>    
                        <option value="2010">2010</option>
                        <option value="2011">2011</option>
                        <option value="2012">2012</option>    
                        <option value="2013">2013</option>
                        <option value="2014">2014</option>
                        <option value="2015">2015</option>
                        <option value="2016">2016</option>
                        <option value="2017">2017</option>
                        <option value="2018">2018</option>
                    </select>
                </label>
                <label><span>Station</span>
                    <select name="station">
                        <option value="" disabled="disabled" selected="selected">{{ request.form['station'] }}</option>
                        {% for d in stations %}
                        <option value="{{ d }}">{{ d }}</option>
                        {% endfor %}
                    </select>
                </label>
                <label><span>Line</span>
                    <select name="line">
                        <option value="" disabled="disabled" selected="selected">{{ request.form['line'] }}</option>
                        <option value="blue">blue</option>
                        <option value="brown">brown</option>
                        <option value="green">green</option>
                        <option value="orange">orange</option>
                        <option value="pink">pink</option>
                        <option value="purple">purple</option>
                        <option value="purple exp">purple exp</option>
                        <option value="red">red</option>
                        <option value="yellow">yellow</option>
                    </select>
                </label>
                <label><span>Direction</span>
                    <select name="direction">
                        <option value="" disabled="disabled" selected="selected">{{ request.form['direction'] }}</option>
                        <option value="N">N</option>
                        <option value="S">S</option>
                        <option value="E">E</option>
                        <option value="W">W</option>
                    </select>
                </label>
                <input type="submit" value="OUTPUT"/>
                <br/>
            </form>
            <table class="display" id="cta_table">
             <thead>
               <tr>
                  <th>Station ID</th>
                  <th>Date</th>
                  <th>Station Name</th>
                  <th>Rides</th>
                  <th>Direction</th>
               </tr>
             </thead>
             <tbody>
                {% for item in cta_data %}
               <tr>
                  <td>{{ item['station_id'] }}</td>
                  <td>{{ item['date'] }}</td>
                  <td>{{ item['station_name'] }}</td>
                  <td>{{ item['rides'] }}</td>
                  <td>{{ item['direction'] }}</td>
               </tr>  
                {% endfor %}
             </tbody>
             <tfoot>
               <tr>
                  <th>Station ID</th>
                  <th>Date</th>
                  <th>Station Name</th>
                  <th>Rides</th>
                  <th>Direction</th>
               </tr>
             </tfoot>
            </table>
        </div>
    </div>
</body>
</html>
